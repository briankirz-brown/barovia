
    /* =====================
       THEME & BASE STYLES
       ===================== */
    :root{
      --ink:        #d2cdc0; /* bone */
      --ink-dim:    #b8b2a2;
      --accent:     #8a2b2b; /* dried blood */
      --accent-dim: #5a1d1d;
      --bg0:        #0b0e13; /* night */
      --bg1:        #131821; /* deep pine */
      --bg2:        #1a222d; /* slate */
      --tile:       #0f1616; /* bark */
      --tile-edge:  #2f3b3b; /* moss */
      --tile-adj:   #28343a; /* reachable */
      --tile-here:  #464f5a; /* current */
      --tile-hover: #314048;
      --shadow:     rgba(0,0,0,.55);
      --panel:      rgba(20, 16, 16, 0.45);
      --panel-brdr: rgba(255, 232, 224, 0.08);
      --glow:       rgba(138, 43, 43, .65);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    html, body { margin: 0; background: var(--bg0); color: var(--ink); font-family: Garamond, Georgia, "Times New Roman", serif; }
    body { overflow: hidden; }

    /* Subtle vignette + grain for mood without assets */
    body::before{
      content:""; position: fixed; inset: 0; pointer-events: none;
      background:
        radial-gradient(120vmax 120vmax at 50% 30%, transparent 40%, rgba(0,0,0,.55) 85%),
        radial-gradient(120vmax 120vmax at 50% 120%, rgba(0,0,0,.3), transparent 60%);
      mix-blend-mode: multiply;
    }
    body::after{
      /* CSS-only film grain */
      content:""; position: fixed; inset: 0; pointer-events:none; opacity:.08;
      background:
        repeating-linear-gradient(0deg, #0000 0 2px, #0001 2px 3px),
        repeating-linear-gradient(90deg, #0000 0 2px, #0001 2px 3px);
      filter: contrast(140%);
    }

    /* ===============
       LAYOUT
       =============== */
    #game { position: relative; width: 100vw; height: 100vh; }
    #map { position: absolute; inset: 0; width: 100%; height: 100%; display: block; }

    .panel {
      position: absolute; border: 1px solid var(--panel-brdr); background: var(--panel);
      backdrop-filter: blur(3px); -webkit-backdrop-filter: blur(3px);
      box-shadow: 0 10px 30px var(--shadow), inset 0 1px 0 rgba(255,255,255,0.03);
      border-radius: 14px; padding: 12px 14px;
    }

    #hud { top: 16px; left: 16px; min-width: 220px; }
    #hud h1 { margin: 0 0 4px 0; font-size: 18px; font-variant: small-caps; letter-spacing: 1px; color: var(--ink); text-shadow: 0 0 10px rgba(255,255,255,.06); }
    #healthBar { height: 10px; border-radius: 999px; background: linear-gradient(90deg, var(--accent), var(--accent-dim)); box-shadow: 0 0 12px var(--glow); }
    #healthText, #seedText { margin-top: 6px; font-size: 14px; color: var(--ink-dim); letter-spacing: .3px; }

    #controls { top: 16px; right: 16px; text-align: center; }
    #controls button {
      background: rgba(0,0,0,.2);
      border: 1px solid var(--panel-brdr);
      color: var(--ink);
      font-family: inherit;
      font-size: 12px;
      padding: 4px 8px;
      margin: 0 2px;
      border-radius: 6px;
      cursor: pointer;
    }
    #controls button:hover { background: rgba(255,255,255,0.05); }

    #log {
      left: 16px; bottom: 16px; width: min(36ch, 32vw); height: min(28vh, 32vh);
      overflow: auto; font-size: 14px; line-height: 1.35; color: var(--ink);
      scrollbar-width: thin; scrollbar-color: var(--accent-dim) transparent;
    }
    #log h2 { margin: 0 0 6px 0; font-size: 14px; font-variant: small-caps; letter-spacing:.8px; color: var(--ink-dim); }
    #logList { list-style: none; margin: 0; padding: 0; }
    #logList li { padding: 6px 8px; margin: 0 0 6px 0; background: rgba(0,0,0,.22); border-radius: 8px; border: 1px solid rgba(255,255,255,.03); }

    /* ===============
       HEX STYLES
       =============== */
    .hex { fill: var(--tile); stroke: var(--tile-edge); stroke-width: 1.3; transition: fill .15s ease, stroke .15s ease; }
    .hex:hover { fill: var(--tile-hover); }
    .here { fill: var(--tile-here) !important; stroke: #616b78; }
    .adjacent { fill: var(--tile-adj); }

    /* PLAYER TOKEN */
    #player .ring { fill: none; stroke: rgba(255, 232, 224, .85); stroke-width: 2.2; filter: drop-shadow(0 0 6px rgba(255,255,255,.08)); }
    #player .core { fill: var(--accent); filter: drop-shadow(0 0 10px var(--glow)); }
    #player { transition: transform .15s ease-out; }

    /* Tiny helper label for accessibility (off by default) */
    .sr-only { position: absolute; left: -9999px; }

    /* Ensure no scrollbars from panels on small screens */
    @media (max-width: 700px){
      #log{ width: 46vw; }
    }
  